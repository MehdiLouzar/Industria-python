{% extends 'base.html' %}

{% block title %}Zone {{ zone.name }}{% endblock %}

{% block content %}
  <div class="mb-4">
    <h1 class="text-2xl font-bold">{{ zone.name }}</h1>
    <p class="text-gray-600">{{ zone.description }}</p>
  </div>
  <div id="zone-map" class="w-full h-[500px]"></div>
  {% if zone.parcels %}
    <h2 class="text-xl font-semibold mt-4">Parcelles libres</h2>
    <ul class="list-disc list-inside">
      {% for p in zone.parcels if p.is_free %}
        <li>
          <a href="{{ url_for('main.parcel_page', parcel_id=p.id) }}" class="text-blue-600">
            {{ p.name }}
          </a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}


{% block scripts %}
  <script>
    var ZONE_ID = {{ zone.id }};
    var MAPBOX_TOKEN = "{{ mapbox_token }}";
  </script>
  <script src="{{ url_for('static', filename='zone_map.js') }}"></script>
  {% if user %}
    <script src="{{ url_for('static', filename='sidebar.js') }}"></script>
  {% endif %}
{% endblock %}

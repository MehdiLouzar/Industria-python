{# templates/sidebar.html #}
<aside
  id="sidebar"
  class="fixed inset-y-0 left-0 w-64 bg-white shadow-md
         transform transition-transform duration-200 ease-in-out
         -translate-x-full lg:translate-x-0 lg:static lg:shadow-none
         flex flex-col overflow-y-auto h-screen z-20"
>
  <!-- Logo + nom -->
  <div class="h-16 flex-shrink-0 flex items-center px-6">
    <a href="{{ url_for('main.index') }}" class="flex items-center space-x-2">
      <img src="{{ url_for('static', filename='logo.png') }}"
           alt="Logo" class="h-8 w-auto">
      <span class="text-xl font-semibold text-gray-800">Industria</span>
    </a>
  </div>

  <!-- Navigation -->
  <nav class="mt-4 flex-1 px-6 space-y-2">
    {% if user %}
      {% for r in crud_resources %}
        <a href="{{ url_for('main.manage_resource', resource=r) }}"
           class="block py-2 px-3 rounded hover:bg-indigo-50 hover:text-indigo-600 capitalize">
          {{ r.replace('_', ' ') }}
        </a>
      {% endfor %}
    {% endif %}
  </nav>

  <!-- Authentification -->
  <div class="px-6 py-4 flex-shrink-0">
    {% if current_user.is_authenticated %}
        <a href="{{ url_for('logout') }}" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">DÃ©connexion</a>
      {% else %}
        <a href="{{ url_for('login_form') }}" class="bg-indigo-500 text-white px-4 py-1.5 rounded hover:bg-indigo-600 text-sm">Connexion</a>
      {% endif %}
  </div>
</aside>

<header class="lg:hidden bg-white shadow-md h-16 flex items-center px-4 z-10">
  <button id="sidebarToggle" class="text-gray-700 focus:outline-none">
    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path id="icon-open"
            class=""
            stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"/>
      <path id="icon-close"
            class="hidden"
            stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 6l12 12M6 18L18 6"/>
    </svg>
  </button>
  <h1 class="ml-4 text-lg font-semibold text-gray-800">{% block page_title %}{% endblock %}</h1>
</header>
